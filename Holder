local GUI = game.Players.LocalPlayer.PlayerGui:FindFirstChild("STX_Nofitication") or game.Players.LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("STX_Nofitication")
local STX_NofiticationUIListLayout

if not GUI then
    local STX_Nofitication = Instance.new("ScreenGui")
    STX_Nofitication.Name = "STX_Nofitication"
    STX_Nofitication.Parent = game.Players.LocalPlayer.PlayerGui or game.Players.LocalPlayer:WaitForChild("PlayerGui")
    STX_Nofitication.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    STX_Nofitication.ResetOnSpawn = false
    
    STX_NofiticationUIListLayout = Instance.new("UIListLayout")
    STX_NofiticationUIListLayout.Name = "STX_NofiticationUIListLayout"
    STX_NofiticationUIListLayout.Parent = STX_Nofitication
    STX_NofiticationUIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
else
    STX_NofiticationUIListLayout = GUI:FindFirstChild("STX_NofiticationUIListLayout")
end

-- loop to keep updating alignment when _G changes
task.spawn(function()
    while task.wait() do
        if STX_NofiticationUIListLayout then
            STX_NofiticationUIListLayout.HorizontalAlignment = _G.NotificationHorizontalAlignment or Enum.HorizontalAlignment.Right
            STX_NofiticationUIListLayout.VerticalAlignment = _G.NotificationVerticalAlignment or Enum.VerticalAlignment.Bottom
        end
    end
end)
